#!/bin/bash
set -euo pipefail
source $TESTS_DIR/common.sh

for f in $CONFIG_DIR/shell/shrc.d/*.sh; do source $f; done
tmpdir=$(mktemp -d)
cd $tmpdir

git init
git remote add origin example.com:foo/bar.git
assert_equals "No github remote found!" "$(gh-fetch-pr 1)"

git remote add upstream https://github.com/githubtraining/example-basic
gh-fetch-pr 1
git branch | grep pr-1
assert_equals 0 $? "Could not find branch pr-1!"

rm -rf $tmpdir
